<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Funbox - Selector de Avatar</title>
    <style>
        :root { --p-blue: #00d2ff; --p-green: #00ff88; }
        body { background: #050505; color: white; font-family: 'Arial', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* IZQUIERDA: √ÅREA VISUAL */
        .preview-zone { 
            flex: 1; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            background: radial-gradient(circle, #111 0%, #000 100%); 
        }

        .avatar-display {
            font-size: 150px; 
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px rgba(0, 210, 255, 0.3));
            transition: transform 0.3s ease;
        }
        
        .skin-title { 
            font-size: 80px; 
            font-weight: 900; 
            color: var(--p-blue); 
            text-transform: uppercase; 
            text-shadow: 0 0 30px rgba(0, 210, 255, 0.8);
            letter-spacing: 5px;
        }

        /* DERECHA: MI ARMARIO */
        .inventory-zone { width: 350px; background: #111; border-left: 2px solid #222; padding: 25px; display: flex; flex-direction: column; }
        
        .grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            margin-top: 20px;
        }

        .card { 
            background: #1a1a1a; 
            border: 2px solid #333; 
            border-radius: 15px; 
            padding: 20px; 
            text-align: center; 
            cursor: pointer; 
            transition: 0.3s; 
        }
        .card:hover { border-color: var(--p-blue); transform: scale(1.05); }
        .card.selected { border-color: var(--p-green); background: rgba(0, 255, 136, 0.1); box-shadow: 0 0 15px rgba(0, 255, 136, 0.2); }
        .card span { font-size: 45px; display: block; margin-bottom: 5px; }
        .card p { margin: 0; font-size: 14px; font-weight: bold; color: #bbb; }

        .btn-play { 
            margin-top: auto; 
            background: var(--p-green); 
            color: black; 
            border: none; 
            padding: 20px; 
            border-radius: 12px; 
            font-weight: 900; 
            cursor: pointer; 
            font-size: 20px; 
            text-transform: uppercase;
            transition: 0.3s;
            box-shadow: 0 4px 0 #00a85a;
        }
        .btn-play:hover { background: #00ffaa; transform: translateY(-2px); box-shadow: 0 6px 0 #00a85a; }
        .btn-play:active { transform: translateY(2px); box-shadow: 0 0px 0 #00a85a; }
    </style>
</head>
<body>

<div class="preview-zone">
    <div id="avatar-emoji" class="avatar-display">üë§</div>
    <div id="skin-name-display" class="skin-title">SELECCIONA</div>
</div>

<div class="inventory-zone">
    <h2 style="margin: 0; font-size: 24px; letter-spacing: 1px;">üì¶ MI ARMARIO</h2>
    <div class="grid" id="inventory-grid"></div>
    <button class="btn-play" onclick="tryStartGame()">ENTRAR AL MAPA</button>
</div>

<script>
    // Lista de avatares
    const avatars = [
        { id: "juan", emoji: "üë®", name: "JUAN" },
        { id: "mujer", emoji: "üë©", name: "CARLA" }
    ];

    // Intentar cargar la skin previa, si no existe, usar 'juan' por defecto
    let currentSkin = localStorage.getItem("funbox_current_skin");
    if (!currentSkin) {
        currentSkin = "juan";
        localStorage.setItem("funbox_current_skin", "juan");
    }

    function selectAvatar(id) {
        currentSkin = id;
        localStorage.setItem("funbox_current_skin", id);
        updatePreview(id);
        renderUI();
    }

    function updatePreview(id) {
        const found = avatars.find(a => a.id === id);
        if(found) {
            const nameEl = document.getElementById("skin-name-display");
            const emojiEl = document.getElementById("avatar-emoji");
            
            nameEl.innerText = found.name;
            emojiEl.innerText = found.emoji;
            
            // Efecto de peque√±a animaci√≥n al cambiar
            emojiEl.style.transform = "scale(1.2)";
            setTimeout(() => emojiEl.style.transform = "scale(1)", 100);
        }
    }

    function renderUI() {
        const grid = document.getElementById("inventory-grid");
        grid.innerHTML = ""; 
        
        avatars.forEach(av => {
            const card = document.createElement("div");
            card.className = `card ${currentSkin === av.id ? 'selected' : ''}`;
            card.onclick = () => selectAvatar(av.id);
            card.innerHTML = `<span>${av.emoji}</span><p>${av.name}</p>`;
            grid.appendChild(card);
        });
    }

    function tryStartGame() {
        // Redirigir a play.html (Aseg√∫rate de que tu otro archivo se llame as√≠ exactamente)
        window.location.href = 'play.html'; 
    }

    // Inicializaci√≥n al cargar la p√°gina
    updatePreview(currentSkin);
    renderUI();
</script>
</body>
</html>
