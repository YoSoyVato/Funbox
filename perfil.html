<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Funbox - Selector de Avatar</title>
    <style>
        :root { --p-blue: #00d2ff; --p-green: #00ff88; }
        body { background: #050505; color: white; font-family: 'Arial', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* IZQUIERDA: √ÅREA VISUAL */
        .preview-zone { 
            flex: 1; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            background: radial-gradient(circle, #111 0%, #000 100%); 
        }

        .avatar-display {
            font-size: 150px; 
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.2));
        }
        
        .skin-title { 
            font-size: 80px; 
            font-weight: 900; 
            color: var(--p-blue); 
            text-transform: uppercase; 
            text-shadow: 0 0 30px rgba(0, 210, 255, 0.8);
            letter-spacing: 5px;
        }

        /* DERECHA: MI ARMARIO */
        .inventory-zone { width: 350px; background: #111; border-left: 2px solid #222; padding: 25px; display: flex; flex-direction: column; }
        
        .grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            margin-top: 20px;
        }

        .card { 
            background: #1a1a1a; 
            border: 2px solid #333; 
            border-radius: 15px; 
            padding: 20px; 
            text-align: center; 
            cursor: pointer; 
            transition: 0.3s; 
        }
        .card:hover { border-color: var(--p-blue); transform: scale(1.05); }
        .card.selected { border-color: var(--p-green); background: rgba(0, 255, 136, 0.1); }
        .card span { font-size: 45px; display: block; margin-bottom: 5px; }
        .card p { margin: 0; font-size: 14px; font-weight: bold; color: #bbb; }

        .btn-play { 
            margin-top: auto; 
            background: var(--p-green); 
            color: black; 
            border: none; 
            padding: 20px; 
            border-radius: 12px; 
            font-weight: 900; 
            cursor: pointer; 
            font-size: 20px; 
            text-transform: uppercase;
            transition: 0.3s;
        }
        .btn-play:hover { background: #00ffaa; transform: scale(1.02); }
    </style>
</head>
<body>

<div class="preview-zone">
    <div id="avatar-emoji" class="avatar-display">üë§</div>
    <div id="skin-name-display" class="skin-title">SELECCIONA</div>
</div>

<div class="inventory-zone">
    <h2 style="margin: 0; font-size: 24px;">üì¶ MI ARMARIO</h2>
    <div class="grid" id="inventory-grid">
        </div>
    <button class="btn-play" onclick="tryStartGame()">ENTRAR AL MAPA</button>
</div>

<script>
    // Lista actualizada: Solo Juan y la Mujer (Avatar por defecto)
    const avatars = [
        { id: "juan", emoji: "üë®", name: "JUAN" },
        { id: "mujer", emoji: "üë©", name: "CARLA" }
    ];

    let currentSkin = localStorage.getItem("funbox_current_skin") || null;

    function selectAvatar(id) {
        currentSkin = id;
        localStorage.setItem("funbox_current_skin", id);
        
        const found = avatars.find(a => a.id === id);
        if(found) {
            document.getElementById("skin-name-display").innerText = found.name;
            document.getElementById("avatar-emoji").innerText = found.emoji;
        }
        renderUI();
    }

    function renderUI() {
        const grid = document.getElementById("inventory-grid");
        grid.innerHTML = ""; 
        
        avatars.forEach(av => {
            const card = document.createElement("div");
            card.className = `card ${currentSkin === av.id ? 'selected' : ''}`;
            card.onclick = () => selectAvatar(av.id);
            card.innerHTML = `<span>${av.emoji}</span><p>${av.name}</p>`;
            grid.appendChild(card);
        });
    }

    function tryStartGame() {
        if (!currentSkin) {
            alert("‚ö†Ô∏è Selecciona un personaje antes de jugar");
        } else {
            // Cambia 'mapa.html' por el nombre real de tu archivo de mapa
            window.location.href = 'mapa.html'; 
        }
    }

    // Cargar datos al iniciar
    if (currentSkin) {
        const initial = avatars.find(a => a.id === currentSkin);
        if(initial) {
            document.getElementById("skin-name-display").innerText = initial.name;
            document.getElementById("avatar-emoji").innerText = initial.emoji;
        }
    }
    
    renderUI();
</script>
</body>
</html>
